# 机器学习-入门篇（3）


让我们继续第一篇文章里房价评估的例子。

#### 先按正常方式写个程序

如果按照我们正常的逻辑可能会这么写我们的房价评估程序：

```
function 房价评估程序(卧室数量, 面积, 位置, 楼层){
	let 价格 = 0；
	let 每平米单价 = 40000; // 默认是40000
	if (位置 === '海淀') {
		每平米单价 = 60000;
	} else if (位置 === '朝阳') {
		每平米单价 = 50000;
	}
	价格 = 每平米单价 * 面积 ;
	
	if (楼层 不是顶楼 不是1楼) {
		价格 = 价格 + 楼层 * 1000; // 楼层差
	} else {
		价格 = 价格 - 1000; // 楼层差
	}

	return 价格;
}
```

ok，看起来是实现出来了，但是这个程序基本是不可用的，因为里面的算法考虑到的情况实在是太有限了，也就是说找不到算法和模型来算出房价。

那如果把找算法的过程让计算机来做，让计算机通过已有的数据来进行学习呢。

我们换种思路来写这个程序：

```
function 房价评估程序(卧室数量, 面积, 位置, 楼层){
	let 价格 = 0；
	价格 = 价格 + 卧室数量 * 12.12312.213;
	价格 = 价格 + 面积 * 324.234234;
	价格 = 价格 + 位置 * 654.424234234;
	价格 = 价格 + 楼层 * 9.24334;
	return 价格;
}
```

请注意程序里的那些神奇的数字。它们称为权重。如果我们能找出对每栋房子都适用的完美权重，我们的函数就能预测所有的房价！

真的存在吗？我们来试试。

#### 步骤1：将每个权重设置为1.

```
function 房价评估程序(卧室数量, 面积, 位置, 楼层){
	let 价格 = 0；
	价格 = 价格 + 卧室数量 * 1;
	价格 = 价格 + 面积 * 1;
	价格 = 价格 + 位置 * 1;
	价格 = 价格 + 楼层 * 1;
	return 价格;
}
```

#### 步骤2：将已有数据输入到函数中，检验估算值与正确价格的偏离程度：

比如：

有一套房产实际成交价为225万元，你的函数估价为217.8万，这一套房产你就差了7.2万。

再将历史数据集中的每套房产估价后偏离值平方后求和。

假设数据集中有500套房产交易，估价偏离值平方求和总计为86,123,373元。这就反映了你的函数现在的“正确”程度。

现在，将总计值除以500，得到每套房产的估价偏离平均值。将这个平均误差值称为你函数的代价。

如果你能调整权重使得这个代价变为0，你的函数就完美了。

它意味着，根据输入的数据，你的程序对每一笔房产交易的估价都是分毫不差。

而这就是我们的目标——尝试不同的权重值以使代价尽可能的低。

#### 步骤3：不断重复步骤2

尝试所有可能的权重值组合。哪一个组合使得代价最接近于0，它就是你要使用的，你只要找到了这样的组合，问题就得到了解决!

#### 很神奇，是不是

试想一下，如果你的程序里没有类似“面积”和“卧室数”这样的参数，而是接受了一组数字。

假设每个数字代表了你车顶安装的摄像头捕捉的画面中的一个像素，再将预测的输出不称为“价格”而是叫做“方向盘转动度数”，这样你就得到了一个程序可以自动操纵你的汽车了！

#### 没那么简单

好吧，当然你不可能尝试所有可能的权重值来找到效果最好的组合。那可真要花几个世纪的时间，因为要尝试的数字真的是无穷无尽。

为避免这种情况，数学家们找到了很多聪明的办法来快速找到优秀的权重值，而不需要尝试过多。

下一篇我们再继续介绍。


